# This file is used to manually specify the semi-automatic conversion of
# 'nipype.interfaces.niftyfit.dwi.DwiTool' from Nipype to Pydra.
#
# Please fill-in/edit the fields below where appropriate
#
# Docs
# ----
# Interface for executable dwi_tool from Niftyfit platform.
# 
#     Use DwiTool.
# 
#     Diffusion-Weighted MR Prediction.
#     Predicts DWI from previously fitted models and calculates model derived
#     maps.
# 
#     `Source code <https://cmiclab.cs.ucl.ac.uk/CMIC/NiftyFit-Release>`_
# 
#     Examples
#     --------
# 
#     >>> from nipype.interfaces import niftyfit
#     >>> dwi_tool = niftyfit.DwiTool(dti_flag=True)
#     >>> dwi_tool.inputs.source_file = 'dwi.nii.gz'
#     >>> dwi_tool.inputs.bvec_file = 'bvecs'
#     >>> dwi_tool.inputs.bval_file = 'bvals'
#     >>> dwi_tool.inputs.mask_file = 'mask.nii.gz'
#     >>> dwi_tool.inputs.b0_file = 'b0.nii.gz'
#     >>> dwi_tool.inputs.rgbmap_file = 'rgb_map.nii.gz'
#     >>> dwi_tool.cmdline
#     'dwi_tool -source dwi.nii.gz -bval bvals -bvec bvecs -b0 b0.nii.gz -mask mask.nii.gz -dti -famap dwi_famap.nii.gz -logdti2 dwi_logdti2.nii.gz -mcmap dwi_mcmap.nii.gz -mdmap dwi_mdmap.nii.gz -rgbmap rgb_map.nii.gz -syn dwi_syn.nii.gz -v1map dwi_v1map.nii.gz'
# 
#     
task_name: DwiTool
nipype_name: DwiTool
nipype_module: nipype.interfaces.niftyfit.dwi
inputs:
  omit:
  # list[str] - fields to omit from the Pydra interface
  rename:
  # dict[str, str] - fields to rename in the Pydra interface
  types:
  # dict[str, type] - override inferred types (use "mime-like" string for file-format types,
  # e.g. 'medimage/nifti-gz'). For most fields the type will be correctly inferred
  # from the nipype interface, but you may want to be more specific, particularly
  # for file types, where specifying the format also specifies the file that will be
  # passed to the field in the automatically generated unittests.
    source_file: medimage/nifti-gz
    # type=file|default=<undefined>: The source image containing the fitted model.
    bval_file: medimage/bval
    # type=file|default=<undefined>: The file containing the bvalues of the source DWI.
    bvec_file: medimage/bvec
    # type=file|default=<undefined>: The file containing the bvectors of the source DWI.
    b0_file: medimage/nifti-gz
    # type=file|default=<undefined>: The B0 image corresponding to the source DWI
    mask_file: medimage/nifti-gz
    # type=file|default=<undefined>: The image mask
    mcmap_file: generic/file
    # type=file: Filename of multi-compartment model parameter map (-ivim,-ball,-nod)
    # type=file|default=<undefined>: Filename of multi-compartment model parameter map (-ivim,-ball,-nod)
    syn_file: generic/file
    # type=file: Filename of synthetic image
    # type=file|default=<undefined>: Filename of synthetic image. Requires: bvec_file/b0_file.
    mdmap_file: generic/file
    # type=file: Filename of MD map/ADC
    # type=file|default=<undefined>: Filename of MD map/ADC
    famap_file: generic/file
    # type=file: Filename of FA map
    # type=file|default=<undefined>: Filename of FA map
    v1map_file: generic/file
    # type=file: Filename of PDD map [x,y,z]
    # type=file|default=<undefined>: Filename of PDD map [x,y,z]
    rgbmap_file: medimage/nifti-gz
    # type=file: Filename of colour FA map
    # type=file|default=<undefined>: Filename of colour FA map.
    logdti_file: generic/file
    # type=file: Filename of output logdti map
    # type=file|default=<undefined>: Filename of output logdti map.
  metadata:
  # dict[str, dict[str, any]] - additional metadata to set on any of the input fields (e.g. out_file: position: 1)
outputs:
  omit:
  # list[str] - fields to omit from the Pydra interface
  rename:
  # dict[str, str] - fields to rename in the Pydra interface
  types:
  # dict[str, type] - override inferred types (use "mime-like" string for file-format types,
  # e.g. 'medimage/nifti-gz'). For most fields the type will be correctly inferred
  # from the nipype interface, but you may want to be more specific, particularly
  # for file types, where specifying the format also specifies the file that will be
  # passed to the field in the automatically generated unittests.
    mcmap_file: generic/file
    # type=file: Filename of multi-compartment model parameter map (-ivim,-ball,-nod)
    # type=file|default=<undefined>: Filename of multi-compartment model parameter map (-ivim,-ball,-nod)
    syn_file: generic/file
    # type=file: Filename of synthetic image
    # type=file|default=<undefined>: Filename of synthetic image. Requires: bvec_file/b0_file.
    mdmap_file: generic/file
    # type=file: Filename of MD map/ADC
    # type=file|default=<undefined>: Filename of MD map/ADC
    famap_file: generic/file
    # type=file: Filename of FA map
    # type=file|default=<undefined>: Filename of FA map
    v1map_file: generic/file
    # type=file: Filename of PDD map [x,y,z]
    # type=file|default=<undefined>: Filename of PDD map [x,y,z]
    rgbmap_file: medimage/nifti-gz
    # type=file: Filename of colour FA map
    # type=file|default=<undefined>: Filename of colour FA map.
    logdti_file: generic/file
    # type=file: Filename of output logdti map
    # type=file|default=<undefined>: Filename of output logdti map.
  callables:
  # dict[str, str] - names of methods/callable classes defined in the adjacent `*_callables.py`
  # to set to the `callable` attribute of output fields
  templates:
  # dict[str, str] - `output_file_template` values to be provided to output fields
  requirements:
  # dict[str, list[str]] - input fields that are required to be provided for the output field to be present
tests:
- inputs:
  # dict[str, str] - values to provide to inputs fields in the task initialisation
  # (if not specified, will try to choose a sensible value)
    source_file:
    # type=file|default=<undefined>: The source image containing the fitted model.
    bval_file:
    # type=file|default=<undefined>: The file containing the bvalues of the source DWI.
    bvec_file:
    # type=file|default=<undefined>: The file containing the bvectors of the source DWI.
    b0_file:
    # type=file|default=<undefined>: The B0 image corresponding to the source DWI
    mask_file:
    # type=file|default=<undefined>: The image mask
    mcmap_file:
    # type=file: Filename of multi-compartment model parameter map (-ivim,-ball,-nod)
    # type=file|default=<undefined>: Filename of multi-compartment model parameter map (-ivim,-ball,-nod)
    syn_file:
    # type=file: Filename of synthetic image
    # type=file|default=<undefined>: Filename of synthetic image. Requires: bvec_file/b0_file.
    mdmap_file:
    # type=file: Filename of MD map/ADC
    # type=file|default=<undefined>: Filename of MD map/ADC
    famap_file:
    # type=file: Filename of FA map
    # type=file|default=<undefined>: Filename of FA map
    v1map_file:
    # type=file: Filename of PDD map [x,y,z]
    # type=file|default=<undefined>: Filename of PDD map [x,y,z]
    rgbmap_file:
    # type=file: Filename of colour FA map
    # type=file|default=<undefined>: Filename of colour FA map.
    logdti_file:
    # type=file: Filename of output logdti map
    # type=file|default=<undefined>: Filename of output logdti map.
    mono_flag:
    # type=bool|default=False: Input is a single exponential to non-directional data [default with no b-vectors]
    ivim_flag:
    # type=bool|default=False: Inputs is an IVIM model to non-directional data.
    dti_flag:
    # type=bool|default=False: Input is a tensor model diag/off-diag.
    dti_flag2:
    # type=bool|default=False: Input is a tensor model lower triangular
    ball_flag:
    # type=bool|default=False: Input is a ball and stick model.
    ballv_flag:
    # type=bool|default=False: Input is a ball and stick model with optimised PDD.
    nod_flag:
    # type=bool|default=False: Input is a NODDI model
    nodv_flag:
    # type=bool|default=False: Input is a NODDI model with optimised PDD
    diso_val:
    # type=float|default=0.0: Isotropic diffusivity for -nod [3e-3]
    dpr_val:
    # type=float|default=0.0: Parallel diffusivity for -nod [1.7e-3].
    args:
    # type=str|default='': Additional parameters to the command
    environ:
    # type=dict|default={}: Environment variables
  imports:
  # list[nipype2pydra.task.base.importstatement] - list import statements required by the test, with each list item
  # consisting of 'module', 'name', and optionally 'alias' keys
  expected_outputs:
  # dict[str, str] - expected values for selected outputs, noting that tests will typically
  # be terminated before they complete for time-saving reasons, and therefore
  # these values will be ignored, when running in CI
  timeout: 10
  # int - the value to set for the timeout in the generated test, 
  # after which the test will be considered to have been initialised 
  # successfully. Set to 0 to disable the timeout (warning, this could
  # lead to the unittests taking a very long time to complete)
  xfail: true
  # bool - whether the unittest is expected to fail or not. Set to false
  # when you are satisfied with the edits you have made to this file
- inputs:
  # dict[str, str] - values to provide to inputs fields in the task initialisation
  # (if not specified, will try to choose a sensible value)
    source_file:
    # type=file|default=<undefined>: The source image containing the fitted model.
    bvec_file:
    # type=file|default=<undefined>: The file containing the bvectors of the source DWI.
    bval_file:
    # type=file|default=<undefined>: The file containing the bvalues of the source DWI.
    mask_file:
    # type=file|default=<undefined>: The image mask
    b0_file:
    # type=file|default=<undefined>: The B0 image corresponding to the source DWI
    rgbmap_file:
    # type=file: Filename of colour FA map
    # type=file|default=<undefined>: Filename of colour FA map.
    dti_flag: 'True'
    # type=bool|default=False: Input is a tensor model diag/off-diag.
  imports:
  # list[nipype2pydra.task.base.importstatement] - list import statements required by the test, with each list item
  # consisting of 'module', 'name', and optionally 'alias' keys
  expected_outputs:
  # dict[str, str] - expected values for selected outputs, noting that tests will typically
  # be terminated before they complete for time-saving reasons, and therefore
  # these values will be ignored, when running in CI
  timeout: 10
  # int - the value to set for the timeout in the generated test, 
  # after which the test will be considered to have been initialised 
  # successfully. Set to 0 to disable the timeout (warning, this could
  # lead to the unittests taking a very long time to complete)
  xfail: true
  # bool - whether the unittest is expected to fail or not. Set to false
  # when you are satisfied with the edits you have made to this file
doctests:
- cmdline: dwi_tool -source dwi.nii.gz -bval bvals -bvec bvecs -b0 b0.nii.gz -mask mask.nii.gz -dti -famap dwi_famap.nii.gz -logdti2 dwi_logdti2.nii.gz -mcmap dwi_mcmap.nii.gz -mdmap dwi_mdmap.nii.gz -rgbmap rgb_map.nii.gz -syn dwi_syn.nii.gz -v1map dwi_v1map.nii.gz
  # str - the expected cmdline output
  inputs:
  # dict[str, str] - name-value pairs for inputs to be provided to the doctest.
  # If the field is of file-format type and the value is None, then the
  # '.mock()' method of the corresponding class is used instead.
    source_file:
    # type=file|default=<undefined>: The source image containing the fitted model.
    bvec_file:
    # type=file|default=<undefined>: The file containing the bvectors of the source DWI.
    bval_file:
    # type=file|default=<undefined>: The file containing the bvalues of the source DWI.
    mask_file:
    # type=file|default=<undefined>: The image mask
    b0_file:
    # type=file|default=<undefined>: The B0 image corresponding to the source DWI
    rgbmap_file:
    # type=file: Filename of colour FA map
    # type=file|default=<undefined>: Filename of colour FA map.
    dti_flag: 'True'
    # type=bool|default=False: Input is a tensor model diag/off-diag.
  imports:
  # list[nipype2pydra.task.base.importstatement] - list import statements required by the test, with each list item
  # consisting of 'module', 'name', and optionally 'alias' keys
  directive:
  # str - any doctest directive to place on the cmdline call, e.g. # doctest: +ELLIPSIS
